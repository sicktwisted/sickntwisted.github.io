<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Multiple Domains with Free Wildcard Cloudflare SSL [Tutorial] </title>
    <link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Domain names you own could be your most expensive to do list. What’s more a domain without a valid SSL will show up in all modern browsers as an insecure content. In this blog post, I will explain how to minimize the cost of owning multiple wildcard SSL-protected domains using Cloudflare and set them up with Github Pages, Heroku or NGINX.">
    <meta name="robots" content="all">
    <meta name="author" content="Paweł Urbanek">

    <!-- Prefetching -->
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin="anonymous">
    <link rel="dns-prefetch" href="//disqus.com">
    <link rel="dns-prefetch" href="//c.disquscdn.com">
    <link rel="prefetch" href="//pawelurbanek.disqus.com/embed.js">
    <link rel="prefetch" href="/">
    <link rel="prefetch" href="/page2/">
    <link rel="prefetch" href="/page3/">

    

    

    
      
    <link rel="prefetch" href="/jekyll-seo-template-readme">
      

      
    <link rel="prefetch" href="/productive-laziness-optimize-your-shell-workflow">
      
    


    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="/assets/styles-28d7c4892d29e81cd376b6f0aa5e0bdc68aed253649c8acb6e0c30b974f0e5e1.css">

    
    <meta name="keywords" content="heroku, cloudflare, github pages, free ssl, save money, startup, landing page, lets encrypt">
    

    <link rel="canonical" href="http://localhost:4000/setup-multiple-domains-with-free-ssl-from-cloudflare">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Paweł U. | Ruby on Rails Web Development, Consultant Full Stack Blog" href="/feed.xml" />


    <!-- Verifications -->
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Multiple Domains with Free Wildcard Cloudflare SSL [Tutorial] ">
    <meta property="og:description" content="Domain names you own could be your most expensive to do list. What’s more a domain without a valid SSL will show up in all modern browsers as an insecure content. In this blog post, I will explain how to minimize the cost of owning multiple wildcard SSL-protected domains using Cloudflare and set them up with Github Pages, Heroku or NGINX.">
    <meta property="og:url" content="http://localhost:4000/setup-multiple-domains-with-free-ssl-from-cloudflare">
    <meta property="og:site_name" content="Paweł U. | Ruby on Rails Web Development, Consultant Full Stack Blog">
    
    <meta property="og:image" content="http://localhost:4000/assets/signs-bfb1f5fc4b30c1d171fa529dd9a39097eeaf23a1e1ade991de7f9089abba4cb4.jpg">
    


    <!-- Twitter Card -->
    
      <meta name="twitter:card" content="summary_large_image">
      <meta property="og:image:width" content="800">
      <meta property="og:image:height" content="500">
      <meta property="article:published_time" content="2018-01-22T01:00:00-08:00" />
    

    
    <meta name="twitter:image" content="http://localhost:4000/assets/signs-bfb1f5fc4b30c1d171fa529dd9a39097eeaf23a1e1ade991de7f9089abba4cb4.jpg">
    

    <meta name="twitter:site" content="@_pawurb" />
    <meta name="twitter:creator" content="@_pawurb" />

    <meta name="twitter:title" content="Multiple Domains with Free Wildcard Cloudflare SSL [Tutorial]">

    <meta name="twitter:description" content="Domain names you own could be your most expensive to do list. What’s more a domain without a valid SSL will show up in all modern browsers as an insecure content. In this blog post, I will explain how to minimize the cost of owning multiple wildcard SSL-protected domains using Cloudflare and set them up with Github Pages, Heroku or NGINX.">
    <meta name="twitter:url" content="http://localhost:4000/setup-multiple-domains-with-free-ssl-from-cloudflare" />

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">


    
<!-- Google Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
      "@type":"WebPage",
      "@id":"http://localhost:4000/setup-multiple-domains-with-free-ssl-from-cloudflare"
    },
    "headline": "Multiple Domains with Free Wildcard SSL from Cloudflare",
    "image": {
      "@type": "ImageObject",
      "url": "http://localhost:4000/assets/signs-bfb1f5fc4b30c1d171fa529dd9a39097eeaf23a1e1ade991de7f9089abba4cb4.jpg",
      "height": 500,
      "width": 800
    },
    "datePublished": "2018-01-22",
    "dateModified": "2018-02-01",
    "author": {
      "@type": "Person",
      "name": "Paweł Urbanek"
    },
    "publisher": {
      "@type": "Organization",
      "name": "PabloWeb Paweł Urbanek",
      "logo": {
        "@type": "ImageObject",
        "url": "http://localhost:4000/assets/pabloweb-69223ab6871fe2232fabdd00e23d420a15170da8a9644aee5f73a422067629c4.jpg",
        "width": 600,
        "height": 60
      }
    },
    "description": "Domain names you own could be your most expensive to do list. What’s more a domain without a valid SSL will show up in all modern browsers as an insecure content. In this blog post, I will explain how to minimize the cost of owning multiple wildcard SSL-protected domains using Cloudflare and set them up with Github Pages, Heroku or NGINX.",
    "keywords": "heroku, cloudflare, github pages, free ssl, save money, startup, landing page, lets encrypt"
  }
  </script>


    <link rel="stylesheet" type="text/css" href="/assets/google_fonts-16351fd7435cc34beedfe5f1876d36faceb5b288b787076edf5077f5446a58d5.css">
</head>

<body class="site">
  

  <div class="site-wrap">
    <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <div class='site-title'>
        <h1 class='author-name'>
          <a class='main-title' href="http://localhost:4000">Paweł Urbanek</a>
        </h1>
        <br>
        <h2 class='blog-title'>
          <a href="http://localhost:4000" class='subtitle'>Full Stack Blog</a>
        </h2>
      </div>
      <nav class="site-nav">
        




    

    
        <a class='theme-color' href="/">Home</a>
    



    

    
        <a class='theme-color' href="/about">About</a>
    



    

    
        <a class='theme-color' href="/jekyll-seo-template">Template</a>
    



        
          <div class="social-icons">
  <div class="social-icons-right">
    <a href="https://github.com/pawurb" target="_blank">
        <img alt="GitHub link"
        src="http://localhost:4000/assets/github-f3e3aef8c6330f359e1acefd59747daab4bae0e8e2628942fb2b9f4290dc34fd.png"
        srcset="http://localhost:4000/assets/github-f3e3aef8c6330f359e1acefd59747daab4bae0e8e2628942fb2b9f4290dc34fd.png 1x, http://localhost:4000/assets/github@2x-bddb217dcfe2bdb27cd2db10015493766f537d6fab6df7ec848e8a19e423df12.png 2x"
        >
    </a>
    <a href="https://twitter.com_pawurb" target="_blank">
      <img alt="Twitter link"
      src="http://localhost:4000/assets/twitter-9863fdece66492f803e15e512e1f2d16ddd1bfad52e97104245b973e55ec0343.png"
      srcset="http://localhost:4000/assets/twitter-9863fdece66492f803e15e512e1f2d16ddd1bfad52e97104245b973e55ec0343.png 1x, http://localhost:4000/assets/twitter@2x-bb4de08ef7390cb0e6bc0e4c74d50e098821cd7c55f1c6b20560a7a325d29164.png 2x"
      >
    </a>
    <a href="/feed.xml">
      <img alt="RSS link"
      src="http://localhost:4000/assets/rss-9cff1fcf93bacdffa5240805c46d3994ef3a05132788b6b04280c17f01672ea8.png"
      srcset="http://localhost:4000/assets/rss-9cff1fcf93bacdffa5240805c46d3994ef3a05132788b6b04280c17f01672ea8.png 1x, http://localhost:4000/assets/rss@2x-2930baaefa5a2b6486904575eea56c39764d6cee22439cd3a8093dbb393176d9.png 2x"
      >
    </a>
  </div>
</div>
<div class="clearfix"></div>

        
      </nav>
      <div class="clearfix"></div>
    </div>
  </div>
</header>


    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        

<div class='fixed-share-buttons-mobile slide-in-bottom-share-buttons'>
  <span>Share</span>
  <a href="https://twitter.com/intent/tweet?text=Multiple+Domains+with+Free+Wildcard+SSL+from+Cloudflare&amp;url=http%3A%2F%2Flocalhost%3A4000%2Fsetup-multiple-domains-with-free-ssl-from-cloudflare" rel="nofollow" target="_blank">
    <img title="Share on Twitter"
      src="http://localhost:4000/assets/twitter-9863fdece66492f803e15e512e1f2d16ddd1bfad52e97104245b973e55ec0343.png"
      srcset="http://localhost:4000/assets/twitter-9863fdece66492f803e15e512e1f2d16ddd1bfad52e97104245b973e55ec0343.png 1x, http://localhost:4000/assets/twitter@2x-bb4de08ef7390cb0e6bc0e4c74d50e098821cd7c55f1c6b20560a7a325d29164.png 2x"
    >
  </a>
  <a href="https://facebook.com/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fsetup-multiple-domains-with-free-ssl-from-cloudflare" rel="nofollow" target="_blank">
    <img title="Share on Facebook"
      src="http://localhost:4000/assets/facebook-ebff27bfb5f4575cf52588bae9aaa3e9d638d3ea8806983038f1f40ae5fefe17.png"
      srcset="http://localhost:4000/assets/facebook-ebff27bfb5f4575cf52588bae9aaa3e9d638d3ea8806983038f1f40ae5fefe17.png 1x, http://localhost:4000/assets/facebook@2x-f12d528cf46cb33493f4e89ae82ad6790b2a29cd9b5658b5e79388adacf83559.png 2x"
    >
  </a>

   <a href="http://www.linkedin.com/shareArticle?url=http%3A%2F%2Flocalhost%3A4000%2Fsetup-multiple-domains-with-free-ssl-from-cloudflare&amp;title=Multiple+Domains+with+Free+Wildcard+SSL+from+Cloudflare" rel="nofollow" target="_blank">
      <img title="Share on LinkedIn"
      src="http://localhost:4000/assets/linkedin-fa921978de5a16810ecd5894affebee63ed33b4d74cad9637ba01c6e803de9cf.png"
      srcset="http://localhost:4000/assets/linkedin-fa921978de5a16810ecd5894affebee63ed33b4d74cad9637ba01c6e803de9cf.png 1x, http://localhost:4000/assets/linkedin@2x-3772acd1e5324b2102d567f097497b0b31a365b03de9ad936715cce461c65870.png 2x"
      >
   </a>

   <a href="http://www.tumblr.com/share/link?url=http%3A%2F%2Flocalhost%3A4000%2Fsetup-multiple-domains-with-free-ssl-from-cloudflare&amp;name=Multiple+Domains+with+Free+Wildcard+SSL+from+Cloudflare" rel="nofollow" target="_blank">
      <img title="Share on Tumblr"
      src="http://localhost:4000/assets/tumblr-88dcd8d5019fcf4e24ddc6fc296ece514fc73aa99d017e58a686d3656fb07024.png"
      srcset="http://localhost:4000/assets/tumblr-88dcd8d5019fcf4e24ddc6fc296ece514fc73aa99d017e58a686d3656fb07024.png 1x, http://localhost:4000/assets/tumblr@2x-c48356d918b286c4ac73406577699f147eef82c5d2f1c4ac6be2a628405525da.png 2x"
      >
   </a>
</div>

<div class='fixed-share-buttons-desktop slide-in-left-share-buttons'>
  <span>Share</span>
  <br>
  <a href="https://twitter.com/intent/tweet?text=Multiple+Domains+with+Free+Wildcard+SSL+from+Cloudflare&amp;url=http%3A%2F%2Flocalhost%3A4000%2Fsetup-multiple-domains-with-free-ssl-from-cloudflare" rel="nofollow" target="_blank">
    <img title="Share on Twitter"
      src="http://localhost:4000/assets/twitter-9863fdece66492f803e15e512e1f2d16ddd1bfad52e97104245b973e55ec0343.png"
      srcset="http://localhost:4000/assets/twitter-9863fdece66492f803e15e512e1f2d16ddd1bfad52e97104245b973e55ec0343.png 1x, http://localhost:4000/assets/twitter@2x-bb4de08ef7390cb0e6bc0e4c74d50e098821cd7c55f1c6b20560a7a325d29164.png 2x"
    >
  </a>
  <br>
  <a href="https://facebook.com/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fsetup-multiple-domains-with-free-ssl-from-cloudflare" rel="nofollow" target="_blank">
    <img title="Share on Facebook"
      src="http://localhost:4000/assets/facebook-ebff27bfb5f4575cf52588bae9aaa3e9d638d3ea8806983038f1f40ae5fefe17.png"
      srcset="http://localhost:4000/assets/facebook-ebff27bfb5f4575cf52588bae9aaa3e9d638d3ea8806983038f1f40ae5fefe17.png 1x, http://localhost:4000/assets/facebook@2x-f12d528cf46cb33493f4e89ae82ad6790b2a29cd9b5658b5e79388adacf83559.png 2x"
    >
  </a>
  <br>
  <a href="http://www.linkedin.com/shareArticle?url=http%3A%2F%2Flocalhost%3A4000%2Fsetup-multiple-domains-with-free-ssl-from-cloudflare&amp;title=Multiple+Domains+with+Free+Wildcard+SSL+from+Cloudflare" rel="nofollow" target="_blank">
      <img title="Share on LinkedIn"
      src="http://localhost:4000/assets/linkedin-fa921978de5a16810ecd5894affebee63ed33b4d74cad9637ba01c6e803de9cf.png"
      srcset="http://localhost:4000/assets/linkedin-fa921978de5a16810ecd5894affebee63ed33b4d74cad9637ba01c6e803de9cf.png 1x, http://localhost:4000/assets/linkedin@2x-3772acd1e5324b2102d567f097497b0b31a365b03de9ad936715cce461c65870.png 2x"
      >
   </a>
   <br>
   <a href="http://www.tumblr.com/share/link?url=http%3A%2F%2Flocalhost%3A4000%2Fsetup-multiple-domains-with-free-ssl-from-cloudflare&amp;name=Multiple+Domains+with+Free+Wildcard+SSL+from+Cloudflare" rel="nofollow" target="_blank">
      <img title="Share on Tumblr"
      src="http://localhost:4000/assets/tumblr-88dcd8d5019fcf4e24ddc6fc296ece514fc73aa99d017e58a686d3656fb07024.png"
      srcset="http://localhost:4000/assets/tumblr-88dcd8d5019fcf4e24ddc6fc296ece514fc73aa99d017e58a686d3656fb07024.png 1x, http://localhost:4000/assets/tumblr@2x-c48356d918b286c4ac73406577699f147eef82c5d2f1c4ac6be2a628405525da.png 2x"
      >
   </a>
</div>

<div class='fixed-mailing-button'>
  <a href="https://mailchimp.com/" rel="nofollow" target='_blank'>Subscribe</a>
  <div class='hidden-bonus'>
    and get a
    <a rel="nofollow" target='_blank' href="/jekyll-seo-template">free SEO template</a>
  </div>
</div>

<div class="fixed-bottom-navigation left-side pagination">
  
    <div class='hidden-title'> Productive Laziness - Optimize your Shell Workflow </div>
    <a class="left navigation-item" rel="nofollow" href="/productive-laziness-optimize-your-shell-workflow">&laquo; Prev</a>
  
</div>

<div class="fixed-bottom-navigation right-side pagination">
  
    <div class='hidden-title'> jekyll SEO Template Tutorial </div>
    <a class="right navigation-item" rel="nofollow" href="/jekyll-seo-template-readme"> Next &raquo;</a>
  
</div>

<div class="post-header mb2">
  <h1 id="#top">Multiple Domains with Free Wildcard SSL from Cloudflare</h1>
  <span class="post-meta theme-color">Jan 22, 2018</span><br>
  
  <span class="post-meta small">
  
    4 minute read
  
  </span>
</div>

<article class="post-content">

  
    <div class='main-image-placeholder'>
      <img class="center-image js-async-img" title="Multiple HTTP domain names can be cheap" alt="Multiple HTTP domain names can be cheap" data-src="http://localhost:4000/assets/signs-bfb1f5fc4b30c1d171fa529dd9a39097eeaf23a1e1ade991de7f9089abba4cb4.jpg" src="/assets/signs-thumb-20d0161a313ea9f0ef4b3dfa7afec47291043400d23a8b7eae534f9942b95fc8.jpg">
    </div>
  

<div class="mobile-top page-navigation">
  
    <a class="prev navigation-link" rel="nofollow" href="/productive-laziness-optimize-your-shell-workflow">&laquo; Productive Laziness - Optimize your Shell Workflow</a>

  
  
    <a class="right next navigation-link" rel="nofollow" href="/jekyll-seo-template-readme"> jekyll SEO Template Tutorial &raquo;</a>
  
</div>

  <br>

  <p>Domain names you own could be your most expensive to do list. What’s more a domain without a valid SSL will show up in all modern browsers as an insecure content. In this blog post, I will explain how to minimize the cost of owning multiple wildcard SSL-protected domains using Cloudflare and set them up with Github Pages, Heroku or NGINX.</p>

<p>After I did not renew yet another domain for one of my <em>not-so-profitable-yet</em> side projects I decided to change a strategy. Now I am hosting most of my projects on subdomains of one root domain: <a href="https://apki.io" target="_blank">apki.io</a>. I’ve used it for a couple of projects so far:</p>

<p><a href="https://abot.apki.io" target="_blank">https://abot.apki.io</a></p>

<p><a href="https://wishlist.apki.io" target="_blank">https://wishlist.apki.io</a></p>

<p><a href="https://selfcontrol.apki.io" target="_blank">https://selfcontrol.apki.io</a></p>

<p><a href="https://focus.apki.io/" target="_blank">https://focus.apki.io</a></p>

<p><a href="https://tracky.apki.io/" target="_blank">https://tracky.apki.io</a></p>

<p>My only cost is the yearly renewal of the root domain. Each of these sites has a grade A SSL which works in all the browsers. Here’s how you can do it:</p>

<h2 id="buy-a-root-domain">Buy a “root” domain</h2>

<p>I usually use <a href="https://www.gandi.net/" target="_blank">Gandi</a> but it does not really matter which provider you choose. There are plenty of tutorials explaining how to buy a domain so I will not elaborate on that.</p>

<h2 id="setup-cloudflare-and-free-ssl-certificate">Setup Cloudflare and free SSL certificate</h2>

<p><a href="https://www.cloudflare.com/" target="_blank">Cloudflare</a> is a great service providing tons of features ranging from DDOS protection to smart caching and more. We will focus on how to use it to configure free SSL.</p>

<p>First, you need to move your domain’s nameservers to Cloudflare. After adding a domain to your Cloudflare panel you will be able to check if new config has already propagated. Keep in mind that it can take up to 24 hours.</p>

<p>Next, you need to issue a Cloudflare SSL certificate for your domain. They provide a free wildcard certificate. You can do it in a <code class="highlighter-rouge">Crypto</code> tab bar:</p>

<p><img class="center-image" alt="Cloudflare free wildcard SSL was issued" src="/assets/cloudflare_ssl-40256cd99a4efcb0ffe9677df08a69fb159cc2e2507c5029dbd3a703ebb77277.png" /></p>

<p><span class="annotation">In case that after 24 hours they are still “Authorizing Certificate” you should contact support.</span></p>

<h2 id="setup-github-pages">Setup Github Pages</h2>

<p><a href="https://pages.github.com/" target="_blank">Github Pages</a> is a popular solution for hosting static pages. This blog itself is placed there and powered by <a href="https://jekyllrb.com/" target="_blank">Jekyll</a>. It is free as long as you are using a public GitHub repo. Out of the box, it provides an <code class="highlighter-rouge">https://[Your username].github.io</code> domain for you, however with a minimal configuration you can setup your own domain for free.</p>

<p>First, you need to change your DNS config to point to GitHub’s IP (<code class="highlighter-rouge">192.30.252.154</code>) using an A record. You can do it in Cloudflare DNS settings:</p>

<p><img class="center-image" alt="DNS A config in Cloudflare panel" src="/assets/dns_a_config-25e0e85cda78fc35a3e0b2fd081b6c92f922c9c4773b0d8de18dd41d38de18b0.png" /></p>

<p>then in your project settings on GitHub, you should add a custom domain name:</p>

<p><img class="center-image" alt="GitHub settings, setup custom domain with no cost SSL" src="/assets/github_settings-a5d06af41dcea16bb5d38de48180ff7d164f3ade32aad1582dfcc74beccaee89.png" /></p>

<p>That’s it, your website should be up running.</p>

<h2 id="setup-heroku">Setup Heroku</h2>

<p>If you need something more complex than a static page then <a href="https://heroku.com/" target="_blank">Heroku</a> could be a thing for you. By default, it offers an <code class="highlighter-rouge">https://[Your app name].herokuapp.com</code> domain. Same as with GitHub pages you can hook your own domain with SSL without any additional costs.</p>

<p>Start with adding your domain name in Heroku’s app settings:</p>

<p><img class="center-image" alt="Heroku settings, setup custom domain with free SSL" src="/assets/heroku_domain-8bc1696ee1bb65057ba42134a0aeb1d6db380438c4b535a586f9de3b9b55fb6e.png" />
<span class="annotation">Don’t worry about those error messages, it works anyway</span></p>

<p>Then add a CNAME record pointing your subdomain to default Heroku URL in your Cloudflare DNS dashboard:</p>

<p><img class="center-image" alt="Cloudflare CNAME DNS setting" src="/assets/dns_cname-b7b3a6920efccabd626557a3d4fa897c1c696bb4dbb773950fbc1e542156a2f8.png" />
<span class="annotation">Add a CNAME record pointing subdomain to https://[Your app name].herokuapp.com</span></p>

<p>Your Heroku app should now be available on your custom domain with full SSL support.</p>

<h2 id="setup-nginx">Setup NGINX</h2>

<p>If you are using a custom hosting infrastructure then <a href="https://nginx.org/en/" target="_blank">NGINX</a> could be your front-end server. In this case you can still hook free SSL with a custom domain.</p>

<p>Start with pointing your domain to your server’s IP using an A DNS record. Next, check out two detailed articles on Cloudflare support explaining how to complete the setup:</p>

<p><a href="https://support.cloudflare.com/hc/en-us/articles/115000479507" target="_blank">Creating and managing certificates with Origin CA</a></p>

<p><a href="https://support.cloudflare.com/hc/en-us/articles/217471977" target="_blank">How to install an Origin CA certificate in NGINX</a></p>

<h2 id="final-remarks">Final remarks</h2>

<p>Keep in mind that when working with DNS and SSL configuration you probably will run into some caching related issues. I usually use <a href="https://www.whatsmydns.net/" target="_blank">DNS Propagation Checker</a> to see if changes have already been applied. Still, some of the settings could be cached locally on your computer. On macOS running these commands could help:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo </span>killall <span class="nt">-HUP</span> mDNSResponder
<span class="nb">sudo </span>killall mDNSResponderHelper
<span class="nb">sudo </span>dscacheutil <span class="nt">-flushcache</span></code></pre></figure>

<p>If not then you could check if it works on different browsers or your mobile device. Rule of the thumb, if it should work but it still doesn’t I just leave it for a couple of hours and then check again ¯\<em>(ツ)</em>/¯.</p>

<p>There’s also <a href="https://letsencrypt.org/" target="_blank">Let’s Encrypt</a> you can use to setup free SSL. So far Cloudflare has always been good enough for what I needed.</p>

<p>Obviously, you can use all of those tips for top-level domains as well. Hope it helps you shave a few bucks off what you spend on your online projects.</p>

<p><strong>Disclaimer:</strong> I’m not a web security expert. I would not recommend using these tips for a project with bank-level security requirements. Let me know in the comments if you notice some security loopholes in those settings.</p>


</article>

<div class="page-navigation">
  
    <a class="prev navigation-link" rel="nofollow" href="/productive-laziness-optimize-your-shell-workflow">&laquo; Productive Laziness - Optimize your Shell Workflow</a>

  
  
    <a class="right next navigation-link" rel="nofollow" href="/jekyll-seo-template-readme"> jekyll SEO Template Tutorial &raquo;</a>
  
</div>

<div class='center'>
  <img alt="Pawel Urbanek Full Stack Ruby on Rails developer avatar"
    src="http://localhost:4000/assets/pawel-circle-eafe4e7f9c98c20c753dcba1f1b1a16ed8bc384cdf2da91d272dd2291d8e7a4d.jpg"
    srcset="http://localhost:4000/assets/pawel-circle-eafe4e7f9c98c20c753dcba1f1b1a16ed8bc384cdf2da91d272dd2291d8e7a4d.jpg 1x, http://localhost:4000/assets/pawel-circle@2x-352753604906054aa864cc5f3916317be7c2b7db8f8703243a0447d06187c641.jpg 2x"
    >
</div>

<div class="post-footer twitter-icon">
  <a href="https://twitter.com/_pawurb" target="_blank" rel="nofollow">
    <img alt="Twitter link"
    src="http://localhost:4000/assets/twitter-9863fdece66492f803e15e512e1f2d16ddd1bfad52e97104245b973e55ec0343.png"
    srcset="http://localhost:4000/assets/twitter-9863fdece66492f803e15e512e1f2d16ddd1bfad52e97104245b973e55ec0343.png 1x, http://localhost:4000/assets/twitter@2x-bb4de08ef7390cb0e6bc0e4c74d50e098821cd7c55f1c6b20560a7a325d29164.png 2x"
    >
  </a>
</div>

<div class='center'>
  <p>This post was corrected with <a class='link' target='_blank' rel="nofollow" href="">Grammarly</a>.</p>

  <p>I'm not giving away a free ebook, but you're still welcome to subscribe.</p>
  <span value="Subscribe" class="button email-link">
  <a href="https://mailchimp.com/" rel='nofollow' target='_blank'>Subscribe</a>
</span>

</div>
<a class='link' href="#top">Back to top</a>


<div id="disqus_thread"></div>


  <script type="text/javascript">
    var disqus_shortname  = 'pawelurbanek';
    var disqus_identifier = '/setup-multiple-domains-with-free-ssl-from-cloudflare';
    var disqus_title      = "Multiple Domains with Free Wildcard SSL from Cloudflare";

    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



<script>
  (function () {
    var removeClass = function(el, className) {
      if (el.classList) {
        el.classList.remove(className);
      } else
        el.className = el.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
    };

    var addClass = function(el, className) {
      if (el.classList) {
        el.classList.add(className);
      } else {
        el.className += ' ' + className;
      }
    };

    window.onscroll = function() {
      var el = document.getElementsByClassName('fixed-mailing-button')[0];
      if(el === undefined) {
        return
      }

      var y = window.scrollY
      if (y < 1000) {
        addClass(el, 'fade-out');
        removeClass(el, 'fade-in');
      }

      if (y > 1800 && window.innerWidth > 980) {
        addClass(el, 'fade-in');
        removeClass(el, 'fade-out');
      }

      if (window.innerWidth < 980) {
        addClass(el, 'fade-out');
        removeClass(el, 'fade-in');
      }
    };
  })();
</script>

      </div>
    </div>
  </div>

  <footer class="center">
  <div class="measure">
    <small>
      © Paweł Urbanek 2018
      <br>
      <a class='link-grey' href='/terms'>Terms</a>
    </small>
  </div>
</footer>



  <script type="text/javascript">
  (function () {
    (function() {
      Array.prototype.slice.call(
        document.getElementsByClassName('js-async-img')
      ).forEach(function(asyncImgNode) {
        var fullImg = new Image()
        fullImg.src = asyncImgNode.dataset.src;
        fullImg.onload = function() {
          asyncImgNode.classList.remove('js-async-img')
          asyncImgNode.src = asyncImgNode.dataset.src
        };
      });
    })();
  })();

</script>



  <script>

!function(e){"use strict";var t=e,i=t.document,o="cbinstance";var n={get:function(e){return decodeURIComponent(i.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},set:function(e,t,o,n,s,r){if(!e||/^(?:expires|max-age|path|domain|secure)$/i.test(e))return!1;var a="";if(o)switch(o.constructor){case Number:a=o===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+o;break;case String:a="; expires="+o;break;case Date:a="; expires="+o.toUTCString()}return i.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(s?"; domain="+s:"")+(n?"; path="+n:"")+(r?"; secure":""),!0},has:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(i.cookie)},remove:function(e,t,o){return!(!e||!this.has(e))&&(i.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(o?"; domain="+o:"")+(t?"; path="+t:""),!0)}},s={merge:function(){var e,t={},i=0,o=arguments.length;if(0===o)return t;for(;i<o;i++)for(e in arguments[i])Object.prototype.hasOwnProperty.call(arguments[i],e)&&(t[e]=arguments[i][e]);return t},str2bool:function(e){switch((e=String(e)).toLowerCase()){case"false":case"no":case"0":case"":return!1;default:return!0}},fade_in:function(e){e.style.opacity<1&&(e.style.opacity=(parseFloat(e.style.opacity)+.05).toFixed(2),t.setTimeout(function(){s.fade_in(e)},50))},get_data_attribs:function(e){var t={};if(Object.prototype.hasOwnProperty.call(e,"dataset"))t=e.dataset;else{var i,o=e.attributes;for(i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var n=o[i];if(/^data-/.test(n.name))t[s.camelize(n.name.substr(5))]=n.value}}return t},normalize_keys:function(e){var t={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=s.camelize(i);t[o]=e[o]?e[o]:e[i]}return t},camelize:function(e){for(var t="-",i=e.indexOf(t);-1!==i;){var o=i===e.length-1,n=o?"":e[i+1],s=n.toUpperCase(),r=o?t:t+n;i=(e=e.replace(r,s)).indexOf(t)}return e},find_script_by_id:function(e){for(var t=i.getElementsByTagName("script"),o=0,n=t.length;o<n;o++)if(e===t[o].id)return t[o];return null}},r=s.find_script_by_id("cookiebanner"),a=e.Cookiebanner=function(e){this.init(e)};a.prototype={cookiejar:n,init:function(t){this.inserted=!1,this.closed=!1;if(this.default_options={cookie:"cookiebanner-accepted",closeText:"&#10006;",closeStyle:"float:right;padding-left:5px;",closePrecedes:!0,cookiePath:"/",cookieDomain:null,cookieSecure:!1,debug:!1,expires:1/0,zindex:255,mask:!1,maskOpacity:.5,maskBackground:"#000",height:"auto",minHeight:"21px",bg:"#000",fg:"#ddd",link:"#aaa",position:"bottom",message:"We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies.",linkmsg:"Learn more",moreinfo:"http://aboutcookies.org",moreinfoTarget:"_blank",moreinfoRel:"noopener noreferrer",moreinfoDecoration:"none",moreinfoFontWeight:"normal",moreinfoFontSize:null,effect:null,fontSize:"14px",fontFamily:"arial, sans-serif",instance:o,textAlign:"center",acceptOnScroll:!1,acceptOnClick:!1,acceptOnTimeout:null,acceptOnFirstVisit:!1},this.options=this.default_options,this.script_el=r,this.script_el){var i=s.get_data_attribs(this.script_el);this.options=s.merge(this.options,i)}t&&(t=s.normalize_keys(t),this.options=s.merge(this.options,t)),o=this.options.instance,this.options.zindex=parseInt(this.options.zindex,10),this.options.mask=s.str2bool(this.options.mask),this.options.closePrecedes=s.str2bool(this.options.closePrecedes),"string"==typeof this.options.expires&&"function"==typeof e[this.options.expires]&&(this.options.expires=e[this.options.expires]),"function"==typeof this.options.expires&&(this.options.expires=this.options.expires()),this.script_el&&this.run()},log:function(){"undefined"!=typeof console&&console.log.apply(console,arguments)},run:function(){if(!this.agreed()){var e=this;!function(e,t){var i=!1,o=!0,n=e.document,s=n.documentElement,r=n.addEventListener?"addEventListener":"attachEvent",a=n.addEventListener?"removeEventListener":"detachEvent",c=n.addEventListener?"":"on",l=function(o){"readystatechange"==o.type&&"complete"!=n.readyState||(("load"==o.type?e:n)[a](c+o.type,l,!1),!i&&(i=!0)&&t.call(e,o.type||o))},p=function(){try{s.doScroll("left")}catch(e){return void setTimeout(p,50)}l("poll")};if("complete"==n.readyState)t.call(e,"lazy");else{if(n.createEventObject&&s.doScroll){try{o=!e.frameElement}catch(e){}o&&p()}n[r](c+"DOMContentLoaded",l,!1),n[r](c+"readystatechange",l,!1),e[r](c+"load",l,!1)}}(t,function(){e.insert()})}},build_viewport_mask:function(){var e=null;if(!0===this.options.mask){var t=this.options.maskOpacity,o='<div id="cookiebanner-mask" style="position:fixed;top:0;left:0;width:100%;height:100%;background:'+this.options.maskBackground+";zoom:1;filter:alpha(opacity="+100*t+");opacity:"+t+";z-index:"+this.options.zindex+';"></div>',n=i.createElement("div");n.innerHTML=o,e=n.firstChild}return e},agree:function(){return this.cookiejar.set(this.options.cookie,1,this.options.expires,this.options.cookiePath,""!==this.options.cookieDomain?this.options.cookieDomain:"",!!this.options.cookieSecure),!0},agreed:function(){return this.cookiejar.has(this.options.cookie)},close:function(){return this.inserted&&(this.closed||(this.element&&this.element.parentNode.removeChild(this.element),this.element_mask&&this.element_mask.parentNode.removeChild(this.element_mask),this.closed=!0)),this.closed},agree_and_close:function(){return this.options.debug||this.agree(),this.close()},cleanup:function(){return this.close(),this.unload()},unload:function(){return this.script_el&&this.script_el.parentNode.removeChild(this.script_el),e[o]=void 0,!0},insert:function(){this.element_mask=this.build_viewport_mask();var e=this.options.zindex;this.element_mask&&(e+=1);var t=i.createElement("div");t.className="cookiebanner",t.style.position="fixed",t.style.left=0,t.style.right=0,t.style.height=this.options.height,t.style.minHeight=this.options.minHeight,t.style.zIndex=e,t.style.background=this.options.bg,t.style.color=this.options.fg,t.style.lineHeight=t.style.minHeight,t.style.padding="5px 16px",t.style.fontFamily=this.options.fontFamily,t.style.fontSize=this.options.fontSize,t.style.textAlign=this.options.textAlign,"top"===this.options.position?t.style.top=0:t.style.bottom=0;var o='<div class="cookiebanner-close" style="'+this.options.closeStyle+'">'+this.options.closeText+"</div>",n="<span>"+this.options.message+(this.options.linkmsg?" <a>"+this.options.linkmsg+"</a>":"")+"</span>";this.options.closePrecedes?t.innerHTML=o+n:t.innerHTML=n+o,this.element=t;var r=t.getElementsByTagName("a")[0];r&&(r.href=this.options.moreinfo,r.target=this.options.moreinfoTarget,this.options.moreinfoRel&&""!==this.options.moreinfoRel&&(r.rel=this.options.moreinfoRel),r.style.textDecoration=this.options.moreinfoDecoration,r.style.color=this.options.link,r.style.fontWeight=this.options.moreinfoFontWeight,""!==this.options.moreinfoFontSize&&(r.style.fontSize=this.options.moreinfoFontSize));var a=t.getElementsByTagName("div")[0];function c(e,t,i){var o=e.addEventListener?"addEventListener":"attachEvent",n=e.addEventListener?"":"on";e[o](n+t,i,!1)}a.style.cursor="pointer";var l=this;c(a,"click",function(){l.agree_and_close()}),this.element_mask&&(c(this.element_mask,"click",function(){l.agree_and_close()}),i.body.appendChild(this.element_mask)),this.options.acceptOnScroll&&c(window,"scroll",function(){l.agree_and_close()}),this.options.acceptOnClick&&c(window,"click",function(){l.agree_and_close()}),this.options.acceptOnTimeout&&!isNaN(parseFloat(this.options.acceptOnTimeout))&&isFinite(this.options.acceptOnTimeout)&&setTimeout(function(){l.agree_and_close()},this.options.acceptOnTimeout),this.options.acceptOnFirstVisit&&l.agree(),i.body.appendChild(this.element),this.inserted=!0,"fade"===this.options.effect?(this.element.style.opacity=0,s.fade_in(this.element)):this.element.style.opacity=1}},r&&(e[o]||(e[o]=new a))}(window);

</script>

<script>
  var cb = new Cookiebanner({
    message: "This site uses cookies. By continuing to browse the site, you are agreeing to the use of cookies.",
    fontSize: '15px',
    closeStyle: "float:left;padding-left:25px;",
    bg: '#fefefe',
    fg: "#000",
    linkmsg: " ",
    moreinfoTarget:"",
    closeText: "<span class='theme-color'>Accept</span>"
  })
  cb.run()
</script>


</body>
</html>
